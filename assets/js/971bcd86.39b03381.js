"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[765],{8453(e,n,s){s.d(n,{R:()=>c,x:()=>t});var r=s(6540);const i={},l=r.createContext(i);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(l.Provider,{value:n},e.children)}},9577(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"next/api-reference/core","title":"Core","description":"Core i18n functionality.","source":"@site/docs/next/api-reference/core.md","sourceDirName":"next/api-reference","slug":"/next/api-reference/core","permalink":"/i18n-tiny/next/api-reference/core","draft":false,"unlisted":false,"editUrl":"https://github.com/unlibra/i18n-tiny/tree/main/website/docs/next/api-reference/core.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"nextSidebar","previous":{"title":"API Reference","permalink":"/i18n-tiny/next/api-reference"},"next":{"title":"Proxy","permalink":"/i18n-tiny/next/api-reference/proxy"}}');var i=s(4848),l=s(8453);const c={sidebar_position:1},t="Core",d={},o=[{value:"<code>define(config)</code>",id:"defineconfig",level:2},{value:"Return Value (Properties of <code>i18n</code>)",id:"return-value-properties-of-i18n",level:3},{value:"<code>i18n.Provider</code>",id:"i18nprovider",level:4},{value:"Server-side APIs",id:"server-side-apis",level:3},{value:"<code>i18n.server.getMessages(locale)</code>",id:"i18nservergetmessageslocale",level:4},{value:"<code>i18n.server.getTranslations(locale, namespace?)</code>",id:"i18nservergettranslationslocale-namespace",level:4},{value:"Client-side APIs",id:"client-side-apis",level:3},{value:"<code>i18n.client.useMessages()</code>",id:"i18nclientusemessages",level:4},{value:"<code>i18n.client.useTranslations(namespace?)</code>",id:"i18nclientusetranslationsnamespace",level:4},{value:"<code>i18n.client.useLocale()</code>",id:"i18nclientuselocale",level:4},{value:"<code>i18n.client.useLocales()</code>",id:"i18nclientuselocales",level:4},{value:"<code>i18n.client.useDefaultLocale()</code>",id:"i18nclientusedefaultlocale",level:4},{value:"Properties",id:"properties",level:3},{value:"<code>i18n.locales</code>",id:"i18nlocales",level:4},{value:"<code>i18n.defaultLocale</code>",id:"i18ndefaultlocale",level:4},{value:"<code>DefineConfig</code> (type)",id:"defineconfig-type",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"core",children:"Core"})}),"\n",(0,i.jsx)(n.p,{children:"Core i18n functionality."}),"\n",(0,i.jsx)(n.h2,{id:"defineconfig",children:(0,i.jsx)(n.code,{children:"define(config)"})}),"\n",(0,i.jsx)(n.p,{children:"Defines an i18n instance with automatic type inference."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locales"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"readonly string[]"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsxs)(n.td,{children:["Array of supported locales (e.g., ",(0,i.jsx)(n.code,{children:"['en', 'ja'] as const"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"defaultLocale"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"The default locale"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"messages"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Record<Locale, Messages>"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Message objects keyed by locale"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"return-value-properties-of-i18n",children:["Return Value (Properties of ",(0,i.jsx)(n.code,{children:"i18n"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"define"})," returns an object (e.g., ",(0,i.jsx)(n.code,{children:"i18n"}),") containing the following properties:"]}),"\n",(0,i.jsx)(n.h4,{id:"i18nprovider",children:(0,i.jsx)(n.code,{children:"i18n.Provider"})}),"\n",(0,i.jsx)(n.p,{children:"A component that wraps your app to provide i18n context to Client Components."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Props:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Prop"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locale"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"The current locale"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"messages"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Messages"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Message dictionary for the current locale"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"children"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ReactNode"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Child components"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"<Provider locale={locale} messages={messages}>\n  <App />\n</Provider>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"server-side-apis",children:"Server-side APIs"}),"\n",(0,i.jsx)(n.h4,{id:"i18nservergetmessageslocale",children:(0,i.jsx)(n.code,{children:"i18n.server.getMessages(locale)"})}),"\n",(0,i.jsx)(n.p,{children:"Returns the message object for the specified locale (for Server Components)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locale"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"The locale to retrieve messages for"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Messages"}),": The message object for the given locale."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const messages = await getMessages('en')\nconsole.log(messages.common.title)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"i18nservergettranslationslocale-namespace",children:(0,i.jsx)(n.code,{children:"i18n.server.getTranslations(locale, namespace?)"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns a translation function ",(0,i.jsx)(n.code,{children:"t"})," for the specified locale (for Server Components)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locale"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"The locale to use for translations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"namespace"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"Optional namespace to scope the keys"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"t(key, vars?)"}),": The translation function.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"key"}),": The message key (type-safe with autocomplete)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"vars"}),": Interpolation variables (optional, required variables are typed)."]}),"\n",(0,i.jsxs)(n.li,{children:["Returns: ",(0,i.jsx)(n.code,{children:"string"})," (The translated string)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const t = await getTranslations('en')\nconst title = t('common.title')\n\nconst tNav = await getTranslations('en', 'nav')\nconst home = tNav('home') // Shortcut for 'nav.home'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"client-side-apis",children:"Client-side APIs"}),"\n",(0,i.jsx)(n.h4,{id:"i18nclientusemessages",children:(0,i.jsx)(n.code,{children:"i18n.client.useMessages()"})}),"\n",(0,i.jsx)(n.p,{children:"A hook to retrieve the message object from the current context (for Client Components)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Messages"}),": Message object for the current locale."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const messages = useMessages()\nreturn <h1>{messages.common.title}</h1>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"i18nclientusetranslationsnamespace",children:(0,i.jsx)(n.code,{children:"i18n.client.useTranslations(namespace?)"})}),"\n",(0,i.jsxs)(n.p,{children:["A hook to retrieve the translation function ",(0,i.jsx)(n.code,{children:"t"})," from the current context (for Client Components)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"namespace"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"Optional namespace to scope the keys"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"t(key, vars?)"}),": The translation function."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const t = useTranslations('common')\nreturn <p>{t('welcome', { name: 'John' })}</p>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"i18nclientuselocale",children:(0,i.jsx)(n.code,{children:"i18n.client.useLocale()"})}),"\n",(0,i.jsx)(n.p,{children:"A hook to retrieve the current locale string (for Client Components)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"}),": The current locale."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const locale = useLocale() // 'en' | 'ja'\n"})}),"\n",(0,i.jsx)(n.h4,{id:"i18nclientuselocales",children:(0,i.jsx)(n.code,{children:"i18n.client.useLocales()"})}),"\n",(0,i.jsx)(n.p,{children:"A hook to retrieve the array of supported locales (for Client Components)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"readonly string[]"}),": The configured locales array."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const locales = useLocales() // ['en', 'ja']\n"})}),"\n",(0,i.jsx)(n.h4,{id:"i18nclientusedefaultlocale",children:(0,i.jsx)(n.code,{children:"i18n.client.useDefaultLocale()"})}),"\n",(0,i.jsx)(n.p,{children:"A hook to retrieve the default locale string (for Client Components)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"}),": The default locale."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const defaultLocale = useDefaultLocale() // 'en'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.h4,{id:"i18nlocales",children:(0,i.jsx)(n.code,{children:"i18n.locales"})}),"\n",(0,i.jsxs)(n.p,{children:["The configured ",(0,i.jsx)(n.code,{children:"locales"})," array."]}),"\n",(0,i.jsx)(n.h4,{id:"i18ndefaultlocale",children:(0,i.jsx)(n.code,{children:"i18n.defaultLocale"})}),"\n",(0,i.jsxs)(n.p,{children:["The configured ",(0,i.jsx)(n.code,{children:"defaultLocale"})," string."]}),"\n",(0,i.jsxs)(n.h2,{id:"defineconfig-type",children:[(0,i.jsx)(n.code,{children:"DefineConfig"})," (type)"]}),"\n",(0,i.jsxs)(n.p,{children:["The type of the configuration object passed to ",(0,i.jsx)(n.code,{children:"define()"}),". Can be imported directly from ",(0,i.jsx)(n.code,{children:"@i18n-tiny/next"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);