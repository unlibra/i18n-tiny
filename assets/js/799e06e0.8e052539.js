"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[48],{1267(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"next/usage","title":"Usage","description":"1. Create Messages","source":"@site/docs/next/usage.md","sourceDirName":"next","slug":"/next/usage","permalink":"/i18n-tiny/next/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/unlibra/i18n-tiny/tree/main/website/docs/next/usage.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"nextSidebar","previous":{"title":"Installation","permalink":"/i18n-tiny/next/installation"},"next":{"title":"API Reference","permalink":"/i18n-tiny/next/api-reference"}}');var a=t(4848),o=t(8453);const r={sidebar_position:3},i="Usage",l={},c=[{value:"1. Create Messages",id:"1-create-messages",level:2},{value:"2. Define i18n Instance",id:"2-define-i18n-instance",level:2},{value:"3. Setup Proxy (Middleware)",id:"3-setup-proxy-middleware",level:2},{value:"4. Integrate into Root Layout",id:"4-integrate-into-root-layout",level:2},{value:"5. Use in Components",id:"5-use-in-components",level:2},{value:"Server Components",id:"server-components",level:3},{value:"Client Components",id:"client-components",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"usage",children:"Usage"})}),"\n",(0,a.jsx)(n.h2,{id:"1-create-messages",children:"1. Create Messages"}),"\n",(0,a.jsx)(n.p,{children:"Create message files for each locale."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'// messages/en.ts\nexport default {\n  common: {\n    title: "My App",\n    welcome: "Welcome, {name}!"\n  }\n}\n\n// messages/ja.ts\nexport default {\n  common: {\n    title: "\u30de\u30a4\u30a2\u30d7\u30ea",\n    welcome: "\u3088\u3046\u3053\u305d\u3001{name}\u3055\u3093\uff01"\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"2-define-i18n-instance",children:"2. Define i18n Instance"}),"\n",(0,a.jsxs)(n.p,{children:["Import ",(0,a.jsx)(n.code,{children:"define"})," from ",(0,a.jsx)(n.code,{children:"@i18n-tiny/next"})," to create your i18n instance."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// i18n.ts\nimport { define } from '@i18n-tiny/next'\nimport en from './messages/en'\nimport ja from './messages/ja'\n\nexport const {\n  locales,\n  defaultLocale,\n  server,\n  client,\n  Provider\n} = define({\n  locales: ['en', 'ja'] as const,\n  defaultLocale: 'en',\n  messages: { en, ja }\n})\n"})}),"\n",(0,a.jsx)(n.h2,{id:"3-setup-proxy-middleware",children:"3. Setup Proxy (Middleware)"}),"\n",(0,a.jsxs)(n.p,{children:["Create a ",(0,a.jsx)(n.code,{children:"middleware.ts"})," file to handle routing and language detection."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// middleware.ts\nimport { create } from '@i18n-tiny/next/proxy'\nimport { locales, defaultLocale } from './i18n'\n\nexport const middleware = create({\n  locales,\n  defaultLocale\n})\n\nexport const config = {\n  // Skip internal paths and static files\n  matcher: ['/((?!api|_next|.*\\..*).*)']\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"4-integrate-into-root-layout",children:"4. Integrate into Root Layout"}),"\n",(0,a.jsxs)(n.p,{children:["Wrap your application with the ",(0,a.jsx)(n.code,{children:"Provider"})," in your root layout."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"// app/[locale]/layout.tsx\nimport { Provider, server } from '@/i18n'\n\nexport default async function RootLayout({ children, params }) {\n  const { locale } = await params\n  const messages = await server.getMessages(locale)\n\n  return (\n    <html lang={locale}>\n      <body>\n        <Provider locale={locale} messages={messages}>\n          {children}\n        </Provider>\n      </body>\n    </html>\n  )\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"5-use-in-components",children:"5. Use in Components"}),"\n",(0,a.jsx)(n.h3,{id:"server-components",children:"Server Components"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { server } from '@/i18n'\n\nexport default async function Page({ params }) {\n  const { locale } = await params\n  const t = await server.getTranslations(locale)\n\n  return <h1>{t('common.title')}</h1>\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"client-components",children:"Client Components"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"'use client'\nimport { client } from '@/i18n'\n\nexport default function ClientComponent() {\n  const t = client.useTranslations('common')\n  return <p>{t('welcome', { name: 'User' })}</p>\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>i});var s=t(6540);const a={},o=s.createContext(a);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);