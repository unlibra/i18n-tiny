"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[346],{974(e,r,n){n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"astro/api-reference/router","title":"Router","description":"Router utilities for localized navigation.","source":"@site/docs/astro/api-reference/router.md","sourceDirName":"astro/api-reference","slug":"/astro/api-reference/router","permalink":"/i18n-tiny/astro/api-reference/router","draft":false,"unlisted":false,"editUrl":"https://github.com/unlibra/i18n-tiny/tree/main/website/docs/astro/api-reference/router.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"astroSidebar","previous":{"title":"Integration","permalink":"/i18n-tiny/astro/api-reference/integration"},"next":{"title":"TIPS","permalink":"/i18n-tiny/astro/tips"}}');var i=n(4848),l=n(8453);const s={sidebar_position:4},c="Router",d={},h=[{value:"<code>Link</code>",id:"link",level:2},{value:"<code>getLocalizedPath(path, locale, defaultLocale, prefixDefault?)</code>",id:"getlocalizedpathpath-locale-defaultlocale-prefixdefault",level:2},{value:"<code>removeLocalePrefix(pathname, locales)</code>",id:"removelocaleprefixpathname-locales",level:2},{value:"<code>hasLocalePrefix(pathname, locales)</code>",id:"haslocaleprefixpathname-locales",level:2},{value:"<code>getLinkHref(href, currentPathname, currentLocale, options?)</code>",id:"getlinkhrefhref-currentpathname-currentlocale-options",level:2}];function o(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"router",children:"Router"})}),"\n",(0,i.jsx)(r.p,{children:"Router utilities for localized navigation."}),"\n",(0,i.jsx)(r.h2,{id:"link",children:(0,i.jsx)(r.code,{children:"Link"})}),"\n",(0,i.jsx)(r.p,{children:"A localized Link component that automatically detects the locale from the current URL."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Props:"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Prop"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.th,{children:"Default"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"href"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"-"}),(0,i.jsx)(r.td,{children:"Destination path"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"locale"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"string"})," | ",(0,i.jsx)(r.code,{children:"false"})]}),(0,i.jsx)(r.td,{style:{textAlign:"center"}}),(0,i.jsx)(r.td,{children:"-"}),(0,i.jsxs)(r.td,{children:["Explicitly set locale. ",(0,i.jsx)(r.code,{children:"false"})," or ",(0,i.jsx)(r.code,{children:"''"})," disables localization (raw path)."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"normalize"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"boolean"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"}}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"false"})}),(0,i.jsxs)(r.td,{children:["If true, removes existing locale prefix from ",(0,i.jsx)(r.code,{children:"href"})," before processing."]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Others"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"HTMLAttributes<'a'>"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"}}),(0,i.jsx)(r.td,{children:"-"}),(0,i.jsx)(r.td,{children:"Attributes for standard HTML anchor tag"})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Example:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-astro",children:'---\nimport Link from \'@i18n-tiny/astro/router/Link.astro\'\n---\n\n\x3c!-- Auto-localized (maintains current URL pattern) --\x3e\n<Link href="/about">About</Link>\n\n\x3c!-- Explicit locale override --\x3e\n<Link href="/" locale="ja">\u65e5\u672c\u8a9e</Link>\n\n\x3c!-- Raw path (no localization) --\x3e\n<Link href="/" locale="">English</Link>\n<Link href="/" locale={false}>English</Link>\n\n\x3c!-- Path normalization --\x3e\n<Link href="/ja/about" locale="en" normalize>English</Link>\n'})}),"\n",(0,i.jsx)(r.h2,{id:"getlocalizedpathpath-locale-defaultlocale-prefixdefault",children:(0,i.jsx)(r.code,{children:"getLocalizedPath(path, locale, defaultLocale, prefixDefault?)"})}),"\n",(0,i.jsxs)(r.p,{children:["Generates a localized path with a locale prefix.\nCan be imported from ",(0,i.jsx)(r.code,{children:"@i18n-tiny/astro/router"}),"."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Parameter"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.th,{children:"Default"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"path"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"-"}),(0,i.jsx)(r.td,{children:"The path to localize"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"locale"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"-"}),(0,i.jsx)(r.td,{children:"Target locale"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"defaultLocale"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"-"}),(0,i.jsx)(r.td,{children:"Default locale"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"prefixDefault"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"boolean"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"}}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"false"})}),(0,i.jsx)(r.td,{children:"Whether to prefix the default locale"})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"string"}),": The localized path."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Example:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { getLocalizedPath } from '@i18n-tiny/astro/router'\n\ngetLocalizedPath('/about', 'ja', 'en')        // '/ja/about'\n"})}),"\n",(0,i.jsx)(r.h2,{id:"removelocaleprefixpathname-locales",children:(0,i.jsx)(r.code,{children:"removeLocalePrefix(pathname, locales)"})}),"\n",(0,i.jsxs)(r.p,{children:["Removes the locale prefix from a pathname.\nCan be imported from ",(0,i.jsx)(r.code,{children:"@i18n-tiny/astro/router"}),"."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Parameter"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"pathname"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"The pathname to process"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"locales"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"readonly string[]"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"Array of supported locales"})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"string"}),": Pathname without prefix."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Example:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { removeLocalePrefix } from '@i18n-tiny/astro/router'\n\nremoveLocalePrefix('/ja/about', ['en', 'ja'])  // '/about'\n"})}),"\n",(0,i.jsx)(r.h2,{id:"haslocaleprefixpathname-locales",children:(0,i.jsx)(r.code,{children:"hasLocalePrefix(pathname, locales)"})}),"\n",(0,i.jsxs)(r.p,{children:["Checks if a pathname contains a locale prefix.\nCan be imported from ",(0,i.jsx)(r.code,{children:"@i18n-tiny/astro/router"}),"."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Parameter"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"pathname"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"The pathname to check"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"locales"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"readonly string[]"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"Array of supported locales"})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"boolean"}),": ",(0,i.jsx)(r.code,{children:"true"})," if prefix exists."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Example:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { hasLocalePrefix } from '@i18n-tiny/astro/router'\n\nhasLocalePrefix('/ja/about', ['en', 'ja'])  // true\n"})}),"\n",(0,i.jsx)(r.h2,{id:"getlinkhrefhref-currentpathname-currentlocale-options",children:(0,i.jsx)(r.code,{children:"getLinkHref(href, currentPathname, currentLocale, options?)"})}),"\n",(0,i.jsxs)(r.p,{children:["Utility to generate final URLs for links.\nCan be imported from ",(0,i.jsx)(r.code,{children:"@i18n-tiny/astro/router"}),"."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Parameter"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"href"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"Destination path"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"currentPathname"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"string"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"Current pathname"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"currentLocale"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"string"})," | ",(0,i.jsx)(r.code,{children:"undefined"})]}),(0,i.jsx)(r.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(r.td,{children:"Current locale"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"options"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"GetLinkHrefOptions"})}),(0,i.jsx)(r.td,{style:{textAlign:"center"}}),(0,i.jsx)(r.td,{children:"Options for explicit locale or normalization"})]})]})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"string"}),": The final generated URL."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Example:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { getLinkHref } from '@i18n-tiny/astro/router'\n\nconst href = getLinkHref('/about', '/ja', 'ja', { locale: 'en' }) // '/en/about'\n"})})]})}function a(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,r,n){n.d(r,{R:()=>s,x:()=>c});var t=n(6540);const i={},l=t.createContext(i);function s(e){const r=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(l.Provider,{value:r},e.children)}}}]);