"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[380],{3487(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>a,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"next/api-reference/router","title":"Router","description":"Router utilities for localized navigation.","source":"@site/docs/next/api-reference/router.md","sourceDirName":"next/api-reference","slug":"/next/api-reference/router","permalink":"/i18n-tiny/next/api-reference/router","draft":false,"unlisted":false,"editUrl":"https://github.com/unlibra/i18n-tiny/tree/main/website/docs/next/api-reference/router.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"nextSidebar","previous":{"title":"Proxy","permalink":"/i18n-tiny/next/api-reference/proxy"},"next":{"title":"TIPS","permalink":"/i18n-tiny/next/tips"}}');var i=r(4848),l=r(8453);const c={sidebar_position:3},s="Router",d={},h=[{value:"<code>Link</code>",id:"link",level:2},{value:"<code>getLocalizedPath(path, locale, defaultLocale, prefixDefault?)</code>",id:"getlocalizedpathpath-locale-defaultlocale-prefixdefault",level:2},{value:"<code>removeLocalePrefix(pathname, locales)</code>",id:"removelocaleprefixpathname-locales",level:2},{value:"<code>hasLocalePrefix(pathname, locales)</code>",id:"haslocaleprefixpathname-locales",level:2},{value:"<code>getLinkHref(href, currentPathname, currentLocale, options?)</code>",id:"getlinkhrefhref-currentpathname-currentlocale-options",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"router",children:"Router"})}),"\n",(0,i.jsx)(n.p,{children:"Router utilities for localized navigation."}),"\n",(0,i.jsx)(n.h2,{id:"link",children:(0,i.jsx)(n.code,{children:"Link"})}),"\n",(0,i.jsx)(n.p,{children:"A localized Link component that automatically detects the locale from the current URL."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Props:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Prop"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"href"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string"})," | ",(0,i.jsx)(n.code,{children:"UrlObject"})]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Destination path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locale"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string"})," | ",(0,i.jsx)(n.code,{children:"false"})]}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsxs)(n.td,{children:["Explicitly set locale. ",(0,i.jsx)(n.code,{children:"false"})," or ",(0,i.jsx)(n.code,{children:"''"})," disables localization (raw path)."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"normalize"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsxs)(n.td,{children:["If true, removes existing locale prefix from ",(0,i.jsx)(n.code,{children:"href"})," before processing."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Others"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NextLinkProps"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsxs)(n.td,{children:["Other props for Next.js ",(0,i.jsx)(n.code,{children:"Link"})," component"]})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import { Link } from \'@i18n-tiny/next/router\'\n\n// Auto-localized (maintains current URL pattern)\n<Link href="/about">About</Link>\n\n// Explicit locale override\n<Link href="/" locale="ja">\u65e5\u672c\u8a9e</Link>\n\n// Raw path (no localization)\n<Link href="/" locale="">English</Link>\n<Link href="/" locale={false}>English</Link>\n\n// Conditional locale\n<Link href="/" locale={condition && \'ja\'}>Conditional</Link>\n\n// Path normalization (useful for language switchers)\nconst pathname = usePathname() // \'/ja/about\'\n<Link href={pathname} locale="en" normalize>English</Link> // -> \'/en/about\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"getlocalizedpathpath-locale-defaultlocale-prefixdefault",children:(0,i.jsx)(n.code,{children:"getLocalizedPath(path, locale, defaultLocale, prefixDefault?)"})}),"\n",(0,i.jsxs)(n.p,{children:["Generates a localized path with a locale prefix.\nCan be imported from ",(0,i.jsx)(n.code,{children:"@i18n-tiny/next/router"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"path"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"The path to localize"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locale"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Target locale"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"defaultLocale"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Default locale"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"prefixDefault"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Whether to prefix the default locale"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"}),": The localized path (e.g., ",(0,i.jsx)(n.code,{children:"/ja/about"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { getLocalizedPath } from '@i18n-tiny/next/router'\n\ngetLocalizedPath('/about', 'ja', 'en')        // '/ja/about'\ngetLocalizedPath('/about', 'en', 'en')        // '/about'\ngetLocalizedPath('/about', 'en', 'en', true)  // '/en/about'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"removelocaleprefixpathname-locales",children:(0,i.jsx)(n.code,{children:"removeLocalePrefix(pathname, locales)"})}),"\n",(0,i.jsxs)(n.p,{children:["Removes the locale prefix from a pathname.\nCan be imported from ",(0,i.jsx)(n.code,{children:"@i18n-tiny/next/router"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pathname"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"The pathname to process"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locales"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"readonly string[]"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Array of supported locales"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"}),": Pathname without prefix (e.g., ",(0,i.jsx)(n.code,{children:"/ja/about"})," \u2192 ",(0,i.jsx)(n.code,{children:"/about"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { removeLocalePrefix } from '@i18n-tiny/next/router'\n\nremoveLocalePrefix('/ja/about', ['en', 'ja'])  // '/about'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"haslocaleprefixpathname-locales",children:(0,i.jsx)(n.code,{children:"hasLocalePrefix(pathname, locales)"})}),"\n",(0,i.jsxs)(n.p,{children:["Checks if a pathname contains a locale prefix.\nCan be imported from ",(0,i.jsx)(n.code,{children:"@i18n-tiny/next/router"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pathname"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"The pathname to check"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"locales"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"readonly string[]"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Array of supported locales"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"boolean"}),": ",(0,i.jsx)(n.code,{children:"true"})," if prefix exists, otherwise ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { hasLocalePrefix } from '@i18n-tiny/next/router'\n\nhasLocalePrefix('/ja/about', ['en', 'ja'])  // true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"getlinkhrefhref-currentpathname-currentlocale-options",children:(0,i.jsx)(n.code,{children:"getLinkHref(href, currentPathname, currentLocale, options?)"})}),"\n",(0,i.jsxs)(n.p,{children:["Utility to generate final URLs for links. Used internally by the ",(0,i.jsx)(n.code,{children:"Link"})," component.\nCan be imported from ",(0,i.jsx)(n.code,{children:"@i18n-tiny/next/router"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"href"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Destination path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"currentPathname"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Current pathname"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"currentLocale"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string"})," | ",(0,i.jsx)(n.code,{children:"undefined"})]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.td,{children:"Current locale"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"options"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GetLinkHrefOptions"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"Options for explicit locale or normalization"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"}),": The final generated URL."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { getLinkHref } from '@i18n-tiny/next/router'\n\nconst href = getLinkHref('/about', '/ja', 'ja', { locale: 'en' }) // '/en/about'\n"})})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,r){r.d(n,{R:()=>c,x:()=>s});var t=r(6540);const i={},l=t.createContext(i);function c(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);