"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[290],{1059(n,t,i){i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>e,toc:()=>c});const e=JSON.parse('{"id":"astro/tips/built-in-i18n","title":"Using with Astro\'s Built-in i18n","description":"Astro 4.0+ has built-in routing support for i18n. You can combine it with i18n-tiny to get the best of both worlds: Astro\'s native routing and i18n-tiny\'s type-safe translations.","source":"@site/docs/astro/tips/built-in-i18n.md","sourceDirName":"astro/tips","slug":"/astro/tips/built-in-i18n","permalink":"/i18n-tiny/astro/tips/built-in-i18n","draft":false,"unlisted":false,"editUrl":"https://github.com/unlibra/i18n-tiny/tree/main/website/docs/astro/tips/built-in-i18n.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"astroSidebar","previous":{"title":"Language Switcher","permalink":"/i18n-tiny/astro/tips/language-switcher"}}');var s=i(4848),o=i(8453);const r={sidebar_position:3},a="Using with Astro's Built-in i18n",l={},c=[{value:"Configuration",id:"configuration",level:2},{value:"Integration",id:"integration",level:2},{value:"Benefits of this approach",id:"benefits-of-this-approach",level:3}];function u(n){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"using-with-astros-built-in-i18n",children:"Using with Astro's Built-in i18n"})}),"\n",(0,s.jsx)(t.p,{children:"Astro 4.0+ has built-in routing support for i18n. You can combine it with i18n-tiny to get the best of both worlds: Astro's native routing and i18n-tiny's type-safe translations."}),"\n",(0,s.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(t.p,{children:["Set up your ",(0,s.jsx)(t.code,{children:"astro.config.mjs"})," using Astro's native ",(0,s.jsx)(t.code,{children:"i18n"})," configuration."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// astro.config.mjs\nimport { defineConfig } from 'astro/config'\n\nexport default defineConfig({\n  i18n: {\n    defaultLocale: 'en',\n    locales: ['en', 'ja'],\n    routing: {\n      prefixDefaultLocale: false\n    }\n  }\n})\n"})}),"\n",(0,s.jsx)(t.h2,{id:"integration",children:"Integration"}),"\n",(0,s.jsx)(t.p,{children:"Since Astro handles the routing, you only need i18n-tiny for message resolution."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-astro",children:"---\n// src/pages/[locale]/index.astro\nimport { getTranslations } from '../../i18n'\nconst { locale } = Astro.params\n\nconst t = getTranslations(locale)\n---\n\n<h1>{t('common.title')}</h1>\n"})}),"\n",(0,s.jsx)(t.h3,{id:"benefits-of-this-approach",children:"Benefits of this approach"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Use Astro's native ",(0,s.jsx)(t.code,{children:"Astro.currentLocale"}),"."]}),"\n",(0,s.jsx)(t.li,{children:"Use Astro's automatic redirect features."}),"\n",(0,s.jsx)(t.li,{children:"Keep the ultra-simple and type-safe translation API of i18n-tiny."}),"\n"]})]})}function d(n={}){const{wrapper:t}={...(0,o.R)(),...n.components};return t?(0,s.jsx)(t,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},8453(n,t,i){i.d(t,{R:()=>r,x:()=>a});var e=i(6540);const s={},o=e.createContext(s);function r(n){const t=e.useContext(o);return e.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function a(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),e.createElement(o.Provider,{value:t},n.children)}}}]);